# GazeHome AI Services

**ìŠ¤ë§ˆíŠ¸ í™ˆ AI ì¶”ì²œ ë° ì œì–´ ì‹œìŠ¤í…œ**

LG ìŠ¤ë§ˆíŠ¸ ê°€ì „ê³¼ ì—°ë™í•˜ì—¬ AIê°€ ìƒí™©ì— ë§ëŠ” ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° ì œì–´ë¥¼ ì¶”ì²œí•˜ê³ , ì‚¬ìš©ì í™•ì¸ í›„ ì‹¤ì œ ê¸°ê¸°ë¥¼ ì œì–´í•˜ëŠ” í†µí•© ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

## ğŸ”¥ ì‹œìŠ¤í…œ ê°œìš”

GazeHome AI ì„œë²„ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íë¦„ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤:

1. **AI ì¶”ì²œ ìƒì„±**: ì‹œê°„ëŒ€, ê³„ì ˆ, ê¸°ê¸° ìƒíƒœë¥¼ ê³ ë ¤í•œ ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ ìƒì„±
2. **Hardware ì»¨íŒ**: ì‚¬ìš©ìì—ê²Œ YES/NO í™•ì¸ ìš”ì²­
3. **ê¸°ê¸° ì œì–´**: ì‚¬ìš©ì ìŠ¹ì¸ ì‹œ Gatewayë¥¼ í†µí•´ ì‹¤ì œ LG ê¸°ê¸° ì œì–´
4. **ìƒíƒœ ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ì•¡ì…˜**: ê¸°ê¸° í˜„ì¬ ìƒíƒœì— ë”°ë¼ ì ì ˆí•œ ì•¡ì…˜ ê²°ì •

> ğŸ¯ **í•µì‹¬ íŠ¹ì§•**: AIê°€ ì¶”ì²œ ìƒì„± ì‹œì ì— ê¸°ê¸° ì œì–´ ì •ë³´ë¥¼ ë¯¸ë¦¬ ì¤€ë¹„í•˜ì—¬ íš¨ìœ¨ì ì¸ í”Œë¡œìš° êµ¬í˜„

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

- **ìŠ¤ë§ˆíŠ¸ AI ì¶”ì²œ**: ì‹œê°„ëŒ€, ê³„ì ˆ, ê¸°ê¸° ìƒíƒœë¥¼ ê³ ë ¤í•œ ì§€ëŠ¥í˜• ì¶”ì²œ ìƒì„±
- **Gateway ì—°ë™**: LG ThinQ Gatewayë¥¼ í†µí•œ ì‹¤ì œ ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° ì œì–´
- **ìƒíƒœ ê¸°ë°˜ ì•¡ì…˜**: ê¸°ê¸° í˜„ì¬ ìƒíƒœì— ë”°ë¥¸ ìŠ¤ë§ˆíŠ¸ ì•¡ì…˜ ê²°ì •
- **ìë™ ìŠ¤ì¼€ì¤„ëŸ¬**: ì£¼ê¸°ì  AI ì¶”ì²œ ìƒì„± (30ë¶„ ê°„ê²©, ì„¤ì • ê°€ëŠ¥)
- **Hardware ì—°ë™**: ì‚¬ìš©ì í™•ì¸ì„ ìœ„í•œ Hardware ì„œë²„ í†µì‹ 
- **ì‹¤ì‹œê°„ ê¸°ê¸° ìƒíƒœ**: Gatewayì—ì„œ ì‹¤ì‹œê°„ ê¸°ê¸° ìƒíƒœ ì¡°íšŒ ë° ë°˜ì˜

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: FastAPI, Python
- **LLM**: LangChain + Gemini API
- **Database**: MongoDB
- **Gateway**: LG ThinQ Gateway API
- **Hardware**: Mock/ì‹¤ì œ Hardware ì„œë²„
- **Scheduler**: ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬
- **Deployment**: Uvicorn

## Python ë²„ì „ í˜¸í™˜ì„±

- **Python 3.9**: ê¶Œì¥ ë²„ì „
- **Python 3.10 ~ 3.12** : ì™„ì „ í˜¸í™˜

> ğŸ’¡ **ê¶Œì¥ì‚¬í•­**: ê°œë°œí• ë•ŒëŠ” Python 3.10.11ì„ ì´ìš©í–ˆìŠµë‹ˆë‹¤.

## ğŸ“š ë¬¸ì„œ

í”„ë¡œì íŠ¸ ê´€ë ¨ ìƒì„¸ ë¬¸ì„œë“¤ì€ `Docs/` í´ë”ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- [`smart_recommendation_flow.md`](Docs/smart_recommendation_flow.md) - ìŠ¤ë§ˆíŠ¸ ì¶”ì²œ í”Œë¡œìš° ìƒì„¸ ì„¤ëª…
- [`demo_execution_guide.md`](Docs/demo_execution_guide.md) - ë°ëª¨ ì‹¤í–‰ ê°€ì´ë“œ (ëŒ€íšŒìš© vs ê°œë°œìš©)
- [`terminal_execution_guide.md`](Docs/terminal_execution_guide.md) - í„°ë¯¸ë„ 3ê°œë¡œ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
- [`git_convention.md`](Docs/git_convention.md) - Git ì»¤ë°‹ ì»¨ë²¤ì…˜ ê°€ì´ë“œ
- [`venv_and_requirements_guide.md`](Docs/venv_and_requirements_guide.md) - ê°€ìƒí™˜ê²½ ë° ì˜ì¡´ì„± ê´€ë¦¬ ê°€ì´ë“œ

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ê°€ìƒí™˜ê²½ ì„¤ì • ë° ì˜ì¡´ì„± ì„¤ì¹˜
```bash
# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv .venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/Scripts/activate  # Windows
source .venv/bin/activate       # macOS/Linux

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ í•„ìš”í•œ ì„¤ì •ë“¤ì„ êµ¬ì„±
# - GEMINI_API_KEY: Google Gemini API í‚¤
# - MONGODB_URI: MongoDB ì—°ê²° URI
# - GATEWAY_URL: LG ThinQ Gateway URL (ì‹¤ì œ ì„œë²„)
# - HARDWARE_URL: Hardware ì„œë²„ URL (Mock ë˜ëŠ” ì‹¤ì œ)
# - SCHEDULER_AUTO_START: ìŠ¤ì¼€ì¤„ëŸ¬ ìë™ ì‹œì‘ ì—¬ë¶€ (true/false)
```

### 3. ì„œë²„ ì‹¤í–‰
```bash
# ë°©ë²• 1: uvicorn ì§ì ‘ ì‹¤í–‰ (ê¶Œì¥)
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# ë°©ë²• 2: main.py ì‹¤í–‰
python main.py
```

### 4. ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
```bash
curl http://localhost:8000/health
```

ì˜ˆìƒ ì‘ë‹µ:
```json
{
  "status": "healthy",
  "timestamp": "2024-01-15T14:30:00+09:00",
  "message": "GazeHome AI Services ì •ìƒ ì‘ë™ ì¤‘"
}
```

### 5. API ë¬¸ì„œ í™•ì¸
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

### 6. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

#### ğŸ¯ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸ (ê¶Œì¥)
```bash
# í„°ë¯¸ë„ 3ê°œë¡œ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
# ìì„¸í•œ ë°©ë²•ì€ Docs/terminal_execution_guide.md ì°¸ì¡°
python examples/run_demo.py
```

#### ğŸ  ìŠ¤ë§ˆíŠ¸ í™ˆ ë°ëª¨
```bash
# ê¸°ìƒ ì¡°ê±´ ë° ì‹œê°„ëŒ€ë³„ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
python examples/run_demo.py
```

#### ğŸ”§ Mock ì„œë²„ í…ŒìŠ¤íŠ¸
```bash
# Mock Hardware ì„œë²„ ì‹¤í–‰
python examples/mock_servers.py
```

## ğŸ“¡ ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

### POST /api/recommendations
AIê°€ ìŠ¤ë§ˆíŠ¸ ì¶”ì²œì„ ìƒì„±í•˜ê³  Hardwareì— ì „ì†¡í•©ë‹ˆë‹¤.

**ìš”ì²­ ì˜ˆì‹œ:**
```json
{
  "title": "ì—ì–´ì»¨ ì¼¤ê¹Œìš”?",
  "contents": "í˜„ì¬ ì˜¨ë„ê°€ 25ë„ì´ë¯€ë¡œ ì—ì–´ì»¨ì„ í‚¤ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤."
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "message": "AI ì¶”ì²œ: ì—ì–´ì»¨ ì¼¤ê¹Œìš”? - í˜„ì¬ ì˜¨ë„ê°€ 25ë„ì´ë¯€ë¡œ ì—ì–´ì»¨ì„ í‚¤ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.",
  "confirm": "YES",
  "device_control": {
    "device_id": "ac_001",
    "device_type": "air_conditioner",
    "action": "turn_on",
    "device_alias": "ê±°ì‹¤ ì—ì–´ì»¨"
  }
}
```

### POST /api/devices/control
Gatewayë¥¼ í†µí•´ LG ìŠ¤ë§ˆíŠ¸ ê¸°ê¸°ë¥¼ ì œì–´í•©ë‹ˆë‹¤.

**ìš”ì²­ ì˜ˆì‹œ:**
```json
{
  "device_id": "ac_001",
  "action": "turn_on"
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "message": "[GATEWAY] ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° ì œì–´(ì—ì–´ì»¨) ì™„ë£Œ"
}
```

### GET /scheduler/status
ìŠ¤ì¼€ì¤„ëŸ¬ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

### POST /scheduler/start
ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.

### POST /scheduler/stop
ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì¤‘ì§€í•©ë‹ˆë‹¤.

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”.